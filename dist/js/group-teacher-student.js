webpackJsonp([3],{136:function(a,e,t){var l=t(8)(t(306),t(545),null,null);a.exports=l.exports},137:function(a,e,t){var l=t(8)(t(307),t(547),null,null);a.exports=l.exports},306:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t(9);t.n(l);e.default={data:function(){return{currentPage:1,fileList:[],upload:{action:""}}},methods:{},mounted:function(){}}},307:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t(9),r=t.n(l);e.default={data:function(){return{page_index:1,total_pages:1,searchform:{number:"",grade:null,major:"",class_index:null,name:"",status:null,oClass:null},form:{},tableData:[{number:120708122,name:"李月",grade:"12级",major:"网络工程",class_index:"1班",status:"实习完成"},{number:130706222,name:"王琪",grade:"13级",major:"网络工程",class_index:"1班",status:"实习中"}],majorList:[],classList:[]}},computed:{},methods:{loadAll:function(){var a=this;a.$refs.searchform.resetFields(),a.form={},a.page_index=1,a.loadData()},loadGra:function(){var a=this;a.$refs.searchform.resetFields(),a.form={is_graduating:!0},a.page_index=1,a.loadData()},loadSearch:function(){var a=this;a.form=a.searchform,a.page_index=1,a.tableData=[{number:120708122,name:"李月",grade:"12级",major:"网络工程",class_index:"1班",status:"实习完成"}]},loadData:function(){var a=this,e=a.form;e.page_index=a.page_index,e.total_pages=a.total_pages,r.a.get(urlConfig("studentlist"),{params:e}).then(function(e){a.total_pages=e.data.data.total_pages,a.tableData=e.data.data.items,a.tableformat()}).catch(function(a){console.log(a)})},handleCurrentChange:function(a){var e=this;e.page_index=a,e.loadData()},tableformat:function(){var a=this,e=a.tableData;console.log(e);for(var t=0;t<e.length;t++){e[t].grade+="级";var l={render:function(e){for(var t=0;t<a.majorList.length;t++)if(a.majorList[t].key==e)return a.majorList[t].value}};switch(e[t].major=l.render(e[t].major),e[t].class_index+="班",e[t].status){case 0:e[t].status="尚未实习";break;case 1:e[t].status="实习中";break;case 2:e[t].status="实习完成";break;case 3:e[t].status="实习完成并已评分"}}}},mounted:function(){var a=this;r.a.get(urlConfig("majorlist"),{params:{institute:11}}).then(function(e){for(var t=[],l=e.data.data.items,r=0;r<l.length;r++)t.push({value:l[r].key,label:l[r].value});a.majorList=t}).catch(function(a){console.log(a)}),r.a.get(urlConfig("classlist"),{params:{institute:11}}).then(function(e){for(var t=e.data.items,l=0;l<t.length;l++)a.classList.push({value:{grade:t[l].grade,major:t[l].major,class_index:t[l].class_index},label:t[l].classname})})}}},545:function(a,e){a.exports={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{},[t("div",{staticStyle:{"margin-bottom":"10px",padding:"20px"}},[t("h2",{staticStyle:{"margin-top":"0"}},[a._v("导入学生信息")]),a._v(" "),t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a._v("首页")]),a._v(" "),t("el-breadcrumb-item",[a._v("学生管理")]),a._v(" "),t("el-breadcrumb-item",[a._v("导入学生信息")])],1)],1),a._v(" "),t("div",{staticClass:"list"},[t("el-form",[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","file-list":a.fileList}},[t("el-button",{attrs:{size:"small",type:"primary"}},[a._v("点击导入")]),a._v(" "),t("div",{staticClass:"el-upload__tip",slot:"tip"},[a._v("只能上传xls文件")])],1)],1)],1)],1)],1)])},staticRenderFns:[]}},547:function(a,e){a.exports={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{},[t("div",{staticStyle:{"margin-bottom":"10px",padding:"20px"}},[t("h2",{staticStyle:{"margin-top":"0"}},[a._v("学生列表")]),a._v(" "),t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a._v("首页")]),a._v(" "),t("el-breadcrumb-item",[a._v("学生管理")]),a._v(" "),t("el-breadcrumb-item",[a._v("学生列表")])],1)],1),a._v(" "),t("div",{staticClass:"list"},[t("div",{staticClass:"search"},[t("el-form",{ref:"searchform",attrs:{model:a.searchform}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"年级"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择年级"},on:{click:a.majorList},model:{value:a.searchform.grade,callback:function(e){a.searchform.grade=e},expression:"searchform.grade"}},[t("el-option",{key:"12",attrs:{label:"12级",value:"12"}}),a._v(" "),t("el-option",{key:"13",attrs:{label:"13级",value:"13"}}),a._v(" "),t("el-option",{key:"14",attrs:{label:"14级",value:"14"}}),a._v(" "),t("el-option",{key:"15",attrs:{label:"15级",value:"15"}})],1)],1)],1),a._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"专业"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择专业"},model:{value:a.searchform.major,callback:function(e){a.searchform.major=e},expression:"searchform.major"}},a._l(a.majorList,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1)],1),a._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"班级"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择班级"},model:{value:a.searchform.oClass,callback:function(e){a.searchform.oClass=e},expression:"searchform.oClass"}},a._l(a.classList,function(a){return t("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1)],1),a._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"实习状态"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:a.searchform.status,callback:function(e){a.searchform.status=e},expression:"searchform.status"}},[t("el-option",{attrs:{label:"尚未实习",value:"0"}}),a._v(" "),t("el-option",{attrs:{label:"实习中",value:"1"}}),a._v(" "),t("el-option",{attrs:{label:"实习完成",value:"2"}}),a._v(" "),t("el-option",{attrs:{label:"实习完成并已评分",value:"3"}})],1)],1)],1),a._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"姓名"}},[t("el-input",{model:{value:a.searchform.name,callback:function(e){a.searchform.name=e},expression:"searchform.name"}})],1)],1),a._v(" "),t("el-col",{attrs:{span:8}},[t("el-button",{attrs:{type:"primary"},on:{click:a.loadSearch}},[a._v("搜索")])],1)],1)],1)],1),a._v(" "),t("div",{staticClass:"fast-search"},[t("span",[a._v("快捷搜索：")]),a._v(" "),t("el-button",{attrs:{type:"text"},on:{click:a.loadAll}},[a._v("全部")]),a._v(" "),t("el-button",{attrs:{type:"text"},on:{click:a.loadGra}},[a._v("毕业班")])],1),a._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,border:"","tooltip-effect":"dark"}},[t("el-table-column",{attrs:{prop:"number",label:"学号",width:"120"}}),a._v(" "),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),a._v(" "),t("el-table-column",{attrs:{prop:"grade",label:"年级",width:"80","show-overflow-tooltip":""}}),a._v(" "),t("el-table-column",{attrs:{prop:"major",label:"专业","show-overflow-tooltip":""}}),a._v(" "),t("el-table-column",{attrs:{prop:"class_index",label:"班级",width:"80","show-overflow-tooltip":""}}),a._v(" "),t("el-table-column",{attrs:{prop:"status",label:"实习状态","show-overflow-tooltip":""}})],1),a._v(" "),t("el-pagination",{attrs:{"current-page":a.page_index,"page-size":10,layout:"prev, pager, next","page-count":a.total_pages},on:{"current-change":a.handleCurrentChange,"update:currentPage":function(e){a.page_index=e}}})],1)])},staticRenderFns:[]}}});